<%= javascript_include_tag :defaults %>

<script type="text/javascript">
  function getScroll(){
    ScrollTop = document.body.scrollTop;
    if (ScrollTop == 0) {
        if (window.pageYOffset)
          ScrollTop = window.pageYOffset;
        else
      ScrollTop = (document.body.parentElement) ? document.body.parentElement.scrollTop : 0;
    }
    return ScrollTop;
  }
  window.onscroll = function() {
    document.getElementById("photo").style.top = getScroll() + 150 + "px";
  }
</script>

<div id="photo" style="position:absolute; top:150px; left:600px;">
</div>

<table>
  <tr>
    <th>Nome</th>
    <th>Album</th>
    <th>Longitude</th>
    <th>Latitude</th>
  </tr>

<% photos_list.each_with_index do |photo, index| %>
  <tr>
    <td><%=h photo.title %></td>
    <td><%= link_to photo.album.name, photo.album %></td>
    <td><%=h photo.long %></td>
    <td><%=h photo.lat %></td>
    <td><%= link_to_remote 'Show', :update => "photo", :url => album_photo_path(:album_id => photo.album.id, :photo_num => index), :method => :GET %></td>
    <td><%= link_to 'Edit', edit_photo_path(photo) %></td>
    <td><%= link_to 'Destroy', photo, :confirm => 'Are you sure?', :method => :delete %></td>
  </tr>
<% end %>
</table>
<br />

